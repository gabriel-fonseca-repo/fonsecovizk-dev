---
import { ViewTransitions } from "astro:transitions";
import { SEO } from "astro-seo";
import "../styles/global.css";

interface Props {
    title: string;
    description: string;
    image?: string;
}

const canonicalURL = new URL(Astro.url.pathname, Astro.site);

const { title, description, image = "/blog-placeholder-1.jpg" } = Astro.props;
---

<meta charset="utf-8" />

<SEO
    title={title}
    titleTemplate="%s - Blog do fonseca"
    titleDefault="Blog do fonseca"
    description={description}
    openGraph={{
        basic: {
            title: title,
            type: "website",
            image: new URL(image, Astro.url).toString(),
            url: Astro.url,
        },
        optional: {
            locale: "pt_BR",
            description: description,
        },
    }}
    twitter={{
        creator: "@gabrielfonsecafeitosa",
        card: "summary_large_image",
        title: title,
        description: description,
        image: new URL(image, Astro.url).toString(),
        site: Astro.url + "",
    }}
    extend={{
        link: [
            { rel: "icon", href: "/favicon.svg", type: "image/svg+xml" },
            { rel: "canonical", href: canonicalURL.toString() },
        ],
        meta: [
            { name: "viewport", content: "width=device-width, initial-scale=1" },
            { name: "generator", content: Astro.generator },
        ],
    }}
/>

<ViewTransitions />
